# ORA Platform Plan - Critical Review & Risk Analysis

`PLATFORM_PLAN.md` は非常に野心的で魅力的なビジョンですが、エンジニアリングおよびビジネスの視点から「あえて意地悪な」指摘（Devil's Advocate）を行います。

## 1. "Relay" のスケーラビリティとコスト
計画では `Client -> Relay -> Node` という経路ですが、ユーザー数が増えると **Relay が帯域と接続数のボトルネック** になります。
- **リスク**: 動画や音声ストリームを Relay 経由で流すと、サーバー代（帯域幅）が月額課金（Subscription）の利益を食いつぶす可能性があります。
- **別視点 (Alternative)**:
    - **WebRTC (P2P)** の採用: Relay はシグナリング（接続確立）だけを行い、重いデータは Client と Node が直接通信する。これなら Relay は軽量で済みます。

## 2. "Shared Mode" のセキュリティリスク
「自分のPCで動くNode」を他人に使わせる（Shared）のは、**極めて危険** です。
- **リスク**: バグや設定ミス一つで、友達（Guest）があなたの PC のファイルを見たり、悪意のあるコマンドを実行できてしまう可能性があります。「Sandbox」を完璧に作るのは難しいです。
- **別視点**:
    - **Shared は Cloud 限定にする**: 他人が使う場合は必ず「Cloud 実行」に回し、あなたの PC には触らせない。これなら PC の安全は絶対的に守られます。

## 3. "Offline" 時のデータの整合性
Node（PC）がオフラインの時に Cloud で実行した場合、その会話履歴やメモリはどうやって Node に戻りますか？
- **リスク**: PC を起動した瞬間、Cloud 側の差分とローカルの差分が衝突（Conflict）し、会話が消えたり前後する「同期地獄」が待っています。
- **別視点**:
    - **Cloud First Database**: メモリと履歴だけは最初から Cloud (Firestore等) に置く。Node は計算資源として振る舞い、ステート（状態）を持たないようにする。ただしこれは「Privacy」とトレードオフです。

## 4. Mobile App の配布ハードル
iOS アプリで「ユーザーが自前で立てたサーバー（Node）に接続する」機能は、Apple の審査で厳しくチェックされることがあります（コンテンツ制御ができないため）。
- **リスク**: アプリがリジェクトされ、TestFlight 止まりになる可能性があります。
- **別視点**:
    - **PWA (Progressive Web App)** を主軸にする: ブラウザベースなら審査不要で、Relay 経由のアクセスも容易です。Native App は後回しで良いかもしれません。

## 5. "One Model Fits All" の限界
「自分用」と「商用」を全く同じコードベースで管理するのは、コードが肥大化し、条件分岐だらけになる未来が見えます。
- **リスク**: 商用版の修正が個人版を壊す（逆も然り）。
- **別視点**:
    - **Core Engine (OSS)** と **Platform Wrappers (Commercial)** の分離: 本体はシンプルな OSS とし、認証や Relay 接続機能は「プラグイン」や「ラッパー」として提供する構造の方が健全かもしれません。

---

## 総評
「Node + Relay」はロマンがありますが、**「通信コスト」**と**「セキュリティ（特にShared）」**が鬼門です。
まずは **「自分だけが使う（Private）」** に絞り、**「他人は Cloud 版しか使えない」** と割り切るのが、初期の事故を防ぐ現実的なラインかと思います。

備考:
- これは「設計の穴を早めに見つける」ための意地悪レビューです。方向性の否定ではありません。
